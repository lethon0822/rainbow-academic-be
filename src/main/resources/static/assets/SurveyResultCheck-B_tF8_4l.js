import{_ as h,d as p,b as k,e as y,o,i as g,D as m,c as l,f as c,a,I as i,F as d,G as x,W as w}from"./index-DOBXMv_I.js";import{S as C,_ as S}from"./CourseTable-CU75-2UF.js";import{f as b,a as B}from"./professorService-F1Fs7MKF.js";const I={key:0,class:"d-flex no-comment"},F={class:"d-flex check-comment"},N={key:0,class:"comment-container"},V={class:"comment"},D={key:2,class:"d-flex no-comment"},L={__name:"SurveyResultCheck",setup(R){const e=p({resultItem:[],visable:!1,course:!1,comment:[],avg:0,title:""}),u=k([]),f=async r=>{e.comment=[];const t={year:r.year,semester:r.semester},s=await b(t);if(s.data.length>0){u.value=s.data;const n=u.value.filter(_=>_.status==="승인");e.resultItem=n,e.course=!1;return}e.resultItem=[],e.course=!0},v=async(r,t)=>{const s=await B(r);if(s.data.length>0){e.title=t,e.comment=s.data,console.log(s.data),console.log(e.comment);for(let n of e.comment)e.avg+=n.average;e.visable=!1;return}e.comment=[],e.visable=!0};return(r,t)=>(o(),y(w,{title:"강의평가조회"},{default:g(()=>[m(C,{onSearch:f}),m(S,{"course-list":e.resultItem,maxHeight:"500px",show:{check:!0},onCheck:v},null,8,["course-list"]),e.course?(o(),l("div",I,t[0]||(t[0]=[a("span",null,"등록된 강의가 없습니다.",-1)]))):c("",!0),a("div",F,[t[1]||(t[1]=a("h3",null,[a("b",null,"강의평")],-1)),a("span",null,i(e.title),1)]),t[3]||(t[3]=a("hr",null,null,-1)),e.comment.length>0?(o(!0),l(d,{key:1},x(e.comment,(s,n)=>(o(),l(d,{key:n},[s.review!==null&&s.review!==""?(o(),l("div",N,[a("div",V,[a("span",null,i(s.review),1)])])):c("",!0)],64))),128)):c("",!0),e.visable?(o(),l("div",D,t[2]||(t[2]=[a("span",null,"등록된 평가가 없습니다.",-1)]))):c("",!0)]),_:1,__:[3]}))}},G=h(L,[["__scopeId","data-v-c631c552"]]);export{G as default};
