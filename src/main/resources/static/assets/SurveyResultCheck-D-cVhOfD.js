import{_,a as h,r as k,d as y,o as r,h as x,C as m,c as l,e as c,b as o,H as i,F as d,E as C}from"./index-BYEgPVgA.js";import{S as g,C as S}from"./CourseTable-BSwB0ewx.js";import{W as b}from"./WhiteBox-2PWihVXJ.js";import{f as B,a as w}from"./professorService-CXZIKLuV.js";/* empty css                                                                 */const I={key:0,class:"d-flex no-comment"},F={class:"d-flex check-comment"},N={key:0,class:"comment-container"},V={class:"comment"},E={key:2,class:"d-flex no-comment"},H={__name:"SurveyResultCheck",setup(L){const e=h({resultItem:[],visable:!1,course:!1,comment:[],avg:0,title:""}),u=k([]),f=async a=>{e.comment=[];const t={year:a.year,semester:a.semester},s=await B(t);if(s.data.length>0){u.value=s.data;const n=u.value.filter(p=>p.status==="승인");e.resultItem=n,e.course=!1;return}e.resultItem=[],e.course=!0},v=async(a,t)=>{const s=await w(a);if(s.data.length>0){e.title=t,e.comment=s.data,console.log("코멘트:",e.comment);for(let n of e.comment)e.avg+=n.evScore;e.visable=!1;return}e.comment=[],e.visable=!0};return(a,t)=>(r(),y(b,{title:"강의평가조회"},{default:x(()=>[m(g,{onSearch:f}),m(S,{"course-list":e.resultItem,maxHeight:"500px",show:{check:!0},onCheck:v},null,8,["course-list"]),e.course?(r(),l("div",I,t[0]||(t[0]=[o("span",null,"등록된 강의가 없습니다.",-1)]))):c("",!0),o("div",F,[t[1]||(t[1]=o("h3",null,[o("b",null,"강의평")],-1)),o("span",null,i(e.title),1)]),t[3]||(t[3]=o("hr",null,null,-1)),e.comment.length>0?(r(!0),l(d,{key:1},C(e.comment,(s,n)=>(r(),l(d,{key:n},[s!==null&&s!==""?(r(),l("div",N,[o("div",V,[o("span",null,i(s.review),1)])])):c("",!0)],64))),128)):c("",!0),e.visable?(r(),l("div",E,t[2]||(t[2]=[o("span",null,"등록된 평가가 없습니다.",-1)]))):c("",!0)]),_:1,__:[3]}))}},T=_(H,[["__scopeId","data-v-4655d785"]]);export{T as default};
