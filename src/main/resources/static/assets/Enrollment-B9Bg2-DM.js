import{W as T}from"./WhiteBox-BPtEtNnE.js";import{_ as I,r as w,f as d,o as n,b as e,d as S,g as u,e as y,F as g,p as v,q as b,v as $,t as i,s as h,a as U,x,y as C,c as V,w as L,j as c}from"./index-DUugNxcj.js";/* empty css                                                                        *//* empty css                                                                 */const N={class:"filter-bar"},E=["value"],H={key:0},F=["value"],A={__name:"SearchFilterBar",props:{state:Boolean,departments:Array,years:Array},emits:["search"],setup(a,{emit:p}){const r=p,o=a,l=w({year:"",type:"",department:"",grade:"",semester:"",keyword:""});function f(){r("search",{...l})}return(m,t)=>(n(),d("div",N,[t[15]||(t[15]=e("label",null,"연도:",-1)),S(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.year=s)},[t[6]||(t[6]=e("option",{value:""},"전체",-1)),(n(!0),d(g,null,v(o.years,s=>(n(),d("option",{key:s.year,value:s.year},i(s.year),9,E))),128))],512),[[y,l.year]]),t[16]||(t[16]=e("label",null,"학기:",-1)),S(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.semester=s)},t[7]||(t[7]=[e("option",{value:""},"전체",-1),e("option",{value:"1"},"1학기",-1),e("option",{value:"2"},"2학기",-1)]),512),[[y,l.semester]]),o.state?(n(),d("div",H,[t[11]||(t[11]=e("label",null,"이수구분:",-1)),S(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.type=s)},t[8]||(t[8]=[e("option",{value:""},"전체",-1),e("option",{value:"전공"},"전공",-1),e("option",{value:"교양"},"교양",-1)]),512),[[y,l.type]]),t[12]||(t[12]=e("label",null,"학과:",-1)),S(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.department=s)},[t[9]||(t[9]=e("option",{value:""},"전체",-1)),(n(!0),d(g,null,v(o.departments,s=>(n(),d("option",{key:s.departmentName,value:s.departmentName},i(s.departmentName),9,F))),128))],512),[[y,l.department]]),t[13]||(t[13]=e("label",null,"학년:",-1)),S(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.grade=s)},t[10]||(t[10]=[b('<option value="" data-v-54c8a2fd>전체</option><option value="1" data-v-54c8a2fd>1학년</option><option value="2" data-v-54c8a2fd>2학년</option><option value="2" data-v-54c8a2fd>3학년</option><option value="2" data-v-54c8a2fd>4학년</option>',5)]),512),[[y,l.grade]]),t[14]||(t[14]=e("label",null,"교과목명:",-1)),S(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>l.keyword=s),placeholder:"교과목명을 입력하세요."},null,512),[[$,l.keyword]])])):u("",!0),e("button",{onClick:f},"조회")]))}},D=I(A,[["__scopeId","data-v-54c8a2fd"]]),M={key:0},j={key:1},R={key:2},W={key:0},q={key:1},z={key:2},O=["onClick"],Y={key:3},G=["onClick"],B={__name:"CourseTable",props:{courseList:Array,maxHeight:{type:String,default:"1000px"},show:{type:Object,default:()=>({professor:!1,remSeats:!1,enroll:!1,cancel:!1})}},emits:["enroll","cancel"],setup(a){return(p,r)=>(n(),d("div",{class:"table-container",style:h({maxHeight:a.maxHeight})},[e("table",null,[e("thead",null,[e("tr",null,[r[0]||(r[0]=e("th",null,"과목코드",-1)),r[1]||(r[1]=e("th",null,"교과목명",-1)),r[2]||(r[2]=e("th",null,"강의실",-1)),r[3]||(r[3]=e("th",null,"이수구분",-1)),a.show.professor?(n(),d("th",M,"담당교수")):u("",!0),r[4]||(r[4]=e("th",null,"학년",-1)),r[5]||(r[5]=e("th",null,"강의시간",-1)),r[6]||(r[6]=e("th",null,"학점",-1)),r[7]||(r[7]=e("th",null,"정원",-1)),a.show.remSeats?(n(),d("th",j,"잔여")):u("",!0),a.show.enroll||a.show.cancel?(n(),d("th",R,"수강")):u("",!0)])]),e("tbody",null,[(n(!0),d(g,null,v(a.courseList,o=>(n(),d("tr",{key:o.id},[e("td",null,i(o.id),1),e("td",null,i(o.title),1),e("td",null,i(o.classroom),1),e("td",null,i(o.type),1),a.show.professor?(n(),d("td",W,i(o.professor),1)):u("",!0),e("td",null,i(o.grade),1),e("td",null,i(o.time),1),e("td",null,i(o.credit),1),e("td",null,i(o.maxStd),1),a.show.remSeats?(n(),d("td",q,i(o.remSeats),1)):u("",!0),a.show.enroll?(n(),d("td",z,[e("button",{class:"enroll-btn",onClick:l=>p.$emit("enroll",o)}," 수강신청 ",8,O)])):a.show.cancel?(n(),d("td",Y,[e("button",{class:"cancel-btn",onClick:l=>p.$emit("cancel",o)}," 수강취소 ",8,G)])):u("",!0)]))),128))])])],4))}},k="/course/filter",J=()=>U.get(`${k}/department`).catch(a=>a.response),K=()=>U.get(`${k}/year`).catch(a=>a.response),_={__name:"Enrollment",setup(a){const p=x([]),r=x([]);C(async()=>{const m=await J();console.log(m.data),p.value=m.data;const t=await K();console.log(t.data),r.value=t.data});const o=m=>{console.log(" 받은 필터:",m)},l=[{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47}],f=[{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47},{id:"SUB101",title:"자료구조",classroom:"IT101",type:"전공",professor:"김성배",grade:1,time:"화3수3",credit:3,maxStd:50,remSeats:47}];return(m,t)=>(n(),V(T,{title:"수강 신청"},{default:L(()=>[c(D,{state:!0,departments:p.value,years:[{year:2025}],onSearch:o},null,8,["departments"]),c(B,{courseList:l,maxHeight:"400px",show:{professor:!0,remSeats:!0,enroll:!0,cancel:!1},onEnroll:m.handleEnroll,onCancel:m.handleCancel},null,8,["onEnroll","onCancel"]),c(B,{courseList:f,maxHeight:"500px",show:{professor:!0,remSeats:!0,enroll:!1,cancel:!0}})]),_:1}))}};export{_ as default};
