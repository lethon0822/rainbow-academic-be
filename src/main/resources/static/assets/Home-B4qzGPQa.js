import{_ as w,d as $,u as I,j as S,A as M,c as p,o as f,a as e,f as h,D as _,H as C,M as q,b as N,z as H,k as R,t as j,B as b,C as n,h as c,K as d,x as A,F as B}from"./index-D6WQuHd6.js";import{l as T}from"./logoW-DuFts54h.js";const D={class:"navbar navbar-dark text-white shadow-sm",style:{"background-color":"#364157",height:"60px"}},E={class:"container-fluid d-flex justify-content-between align-items-center px-4"},V=["src"],U={key:0,class:"menus d-flex align-items-center gap-3"},F={__name:"Header",setup(L){$({data:{userId:0,password:"",userName:"",userRole:""}});const a=I(),g=S(),i=M(),k=async()=>{if(!confirm("로그아웃 하시겠습니까?"))return;const u=await q();console.log("로그아웃",u),!(u===void 0||u.status!==200)&&(i.setLoggedIn(!1),a.push("/login"))};return(u,l)=>(f(),p("header",null,[e("div",D,[e("div",E,[e("div",{class:"logo d-flex align-items-center",onClick:l[1]||(l[1]=m=>u.$router.push("/main"))},[e("img",{src:_(T),alt:"로고 아이콘",height:"40"},null,8,V),e("span",{class:"systemText",onClick:l[0]||(l[0]=m=>u.$router.push("/"))},"학사관리시스템")]),_(i).state.loggedIn?(f(),p("div",U,[e("span",null,C(_(g).userName)+"님 반갑습니다",1),l[3]||(l[3]=e("span",{class:"divider"},"|",-1)),e("a",{onClick:l[2]||(l[2]=m=>k())},"로그아웃")])):h("",!0)])])]))}},z=w(F,[["__scopeId","data-v-057416cc"]]),K={class:"menu-hakjeok"},G={key:0,class:"menu-sugang"},J={class:"menu-gangui"},O={key:0},P={key:1},Q={key:2},W={__name:"SideBar",setup(L){const a=N(null),g=H(),i=S(),k=t=>{t.style.height=t.scrollHeight+"px",t.offsetHeight,t.style.transition="height 0.3s ease",t.style.height="0px",t.style.overflow="hidden",setTimeout(()=>{t.style.display="none",t.style.height="",t.style.overflow="",t.style.transition=""},300)},u=t=>{t.style.display="block",t.style.height="0px",t.style.overflow="hidden",t.style.transition="height 0.3s ease",A(()=>{t.style.height=t.scrollHeight+"px",setTimeout(()=>{t.style.height="",t.style.overflow="",t.style.transition=""},300)})},l=t=>{const s=t.parentElement;if(t.classList.contains("active")){t.classList.remove("active");const o=t.querySelector("ul");o&&(k(o),o.classList.remove("show-dropdown"))}else{s.querySelectorAll("li.active").forEach(r=>{r.classList.remove("active");const v=r.querySelector("ul");v&&(k(v),v.classList.remove("show-dropdown"))}),t.classList.add("active");const y=t.querySelector("ul");y&&(u(y),y.classList.add("show-dropdown"))}},m=t=>{const s=t.target;if(s.tagName.toLowerCase()==="a"&&s.classList.contains("router-link")){const o=s.closest("li");o&&l(o);return}if(s.tagName.toLowerCase()==="a"){t.preventDefault();const o=s.closest("li");o&&l(o)}},x=()=>{if(!a.value)return;a.value.querySelectorAll("li.active").forEach(r=>{r.classList.remove("active")}),a.value.querySelectorAll("ul.show-dropdown").forEach(r=>{r.classList.remove("show-dropdown"),r.style.display="none"});let o=g.path;const y=a.value.querySelector(`li a[href="${o}"]`);if(y){let r=y.parentElement;for(;r&&r!==a.value;){if(r.tagName==="LI"){r.classList.add("active");const v=r.querySelector("ul");v&&(v.classList.add("show-dropdown"),v.style.display="block")}r=r.parentElement}}};return R(()=>{a.value.querySelectorAll("a").forEach(s=>{s.addEventListener("click",m)}),x()}),j(()=>g.path,()=>{x()}),(t,s)=>{const o=b("router-link");return f(),p("div",{id:"accordian",ref_key:"accordian",ref:a},[e("ul",null,[e("li",K,[s[3]||(s[3]=e("a",{href:"javascript:void(0);"},"학적",-1)),e("ul",null,[e("li",null,[n(o,{to:"/profile",class:"router-link"},{default:c(()=>s[0]||(s[0]=[d(" 학적기본사항관리 ")])),_:1,__:[0]})]),e("li",null,[n(o,{to:"/grade/all",class:"router-link"},{default:c(()=>s[1]||(s[1]=[d("학적변동관리")])),_:1,__:[1]})]),e("li",null,[n(o,{to:"/renewal/privacy",class:"router-link"},{default:c(()=>s[2]||(s[2]=[d(" 개인정보변경 ")])),_:1,__:[2]})])])]),_(i).userRole!=="professor"?(f(),p("li",G,[s[6]||(s[6]=e("a",{href:"javascript:void(0);"},"수강",-1)),e("ul",null,[s[5]||(s[5]=e("li",null,[e("a",{href:"javascript:void(0);"},"수강조회")],-1)),e("li",null,[n(o,{to:"/enrollment",class:"router-link"},{default:c(()=>s[4]||(s[4]=[d("수강신청 관리")])),_:1,__:[4]})])])])):h("",!0),e("li",J,[s[11]||(s[11]=e("a",{href:"javascript:void(0);"},"강의",-1)),e("ul",null,[e("li",null,[n(o,{to:"/course/history",class:"router-link"},{default:c(()=>s[7]||(s[7]=[d("강의조회")])),_:1,__:[7]})]),_(i).userRole!=="student"?(f(),p("li",O,[n(o,{to:"/professor/course/status"},{default:c(()=>s[8]||(s[8]=[d("강의개설신청 및 신청현황조회")])),_:1,__:[8]})])):h("",!0),_(i).userRole!=="student"?(f(),p("li",P,[n(o,{to:"/professor/course/management"},{default:c(()=>s[9]||(s[9]=[d("강의관리")])),_:1,__:[9]})])):h("",!0),_(i).userRole!=="student"?(f(),p("li",Q,[n(o,{to:"/professor/survey/check"},{default:c(()=>s[10]||(s[10]=[d("강의평가조회")])),_:1,__:[10]})])):h("",!0)])])])],512)}}},X=w(W,[["__scopeId","data-v-1a94ac43"]]),Y={class:"sidebar"},Z={class:"content"},ss={__name:"Home",setup(L){return(a,g)=>{const i=b("router-view");return f(),p(B,null,[n(z),e("div",Y,[n(X)]),e("div",Z,[n(i)])],64)}}},os=w(ss,[["__scopeId","data-v-d05398c9"]]);export{os as default};
