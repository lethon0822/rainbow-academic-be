import{_ as v,d as _,b as p,e as y,o as a,i as h,D as m,c as n,f as c,a as r,F as k,G as g,I as x,W as b}from"./index-BTGqJK0i.js";import{S as C,_ as S}from"./CourseTable-B0aeqx-r.js";import{f as B,a as I}from"./professorService-DiiF_wXk.js";const w={key:0,class:"d-flex no-comment"},F={key:1,class:"comment-container"},N={key:2,class:"d-flex no-comment"},V={__name:"SurveyResultCheck",setup(D){const e=_({resultItem:[],visable:!1,course:!1,comment:[],avg:0}),u=p([]),i=async o=>{e.comment=[];const t={year:o.year,semester:o.semester},s=await B(t);if(s.data.length>0){u.value=s.data;const l=u.value.filter(f=>f.status==="승인");e.resultItem=l,e.course=!1;return}e.resultItem=[],e.course=!0},d=async o=>{const t=await I(o);if(t.data.length>0){e.comment=t.data,console.log(t.data);for(let s of e.comment)e.avg+=s.average;e.visable=!1;return}e.comment=[],e.visable=!0};return(o,t)=>(a(),y(b,{title:"강의평가조회"},{default:h(()=>[m(C,{onSearch:i}),m(S,{"course-list":e.resultItem,maxHeight:"500px",show:{check:!0},onCheck:d},null,8,["course-list"]),e.course?(a(),n("div",w,t[0]||(t[0]=[r("span",null,"등록된 강의가 없습니다.",-1)]))):c("",!0),t[2]||(t[2]=r("h3",null,[r("b",null,"강의평")],-1)),t[3]||(t[3]=r("hr",null,null,-1)),e.comment.length>0?(a(),n("div",F,[(a(!0),n(k,null,g(e.comment,(s,l)=>(a(),n("div",{class:"comment",key:l},[r("span",null,x(s.review),1)]))),128))])):c("",!0),e.visable?(a(),n("div",N,t[1]||(t[1]=[r("span",null,"등록된 평가가 없습니다.",-1)]))):c("",!0)]),_:1,__:[2,3]}))}},j=v(V,[["__scopeId","data-v-d95ffb3a"]]);export{j as default};
