import{_ as I,u as h,b as o,e as _,o as d,h as x,a as t,g as r,v as m,c as p,F as y,E as k,H as f,N as w,W as V,O as u}from"./index-D6WQuHd6.js";const g={class:"container mt-4"},B={class:"mb-3"},U={class:"attendance-table"},A=["onUpdate:modelValue"],D=["onUpdate:modelValue","disabled"],C={__name:"Attendance",setup(E){const v=h(),n=o(""),c=o([{enrollmentId:171,name:"lily",studentId:"20257945",status:"결석",note:""},{enrollmentId:172,name:"Andy",studentId:"20257946",status:"결석",note:""},{enrollmentId:173,name:"Hannah",studentId:"20257947",status:"결석",note:""},{enrollmentId:174,name:"Jacob",studentId:"20257948",status:"결석",note:""},{enrollmentId:176,name:"lucy",studentId:"20257949",status:"결석",note:""}]),i=o(!1),b=async()=>{if(!n.value){alert("출결일자를 선택해주세요.");return}i.value=!0;try{for(const s of c.value){if(!s.status){alert(`학생 ${s.name}의 출결 상태를 선택해주세요.`);return}const e={attendDate:n.value,enrollmentId:s.enrollmentId,status:s.status,note:s.note},{data:a}=await u.post("/professor/course/check/exist",e);a===0?await u.post("/professor/course/check",e):await u.put("/professor/course/check",e)}alert("출결 저장 완료!"),await v.push("/professor/attendance")}catch(s){console.error("출결 저장 중 오류:",s),alert("출결 저장 중 오류가 발생했습니다.")}finally{i.value=!1}};return(s,e)=>(d(),_(V,{title:"출결 관리"},{default:x(()=>[t("div",g,[e[4]||(e[4]=t("h2",{class:"text-center fw-bold mb-4"},"출결 입력창",-1)),t("div",B,[e[1]||(e[1]=t("label",{class:"form-label"},"출결일자",-1)),r(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),class:"form-control w-25"},null,512),[[m,n.value]])]),t("table",U,[e[3]||(e[3]=t("thead",{class:"grade-table-header"},[t("tr",null,[t("th",null,"이름"),t("th",null,"학번"),t("th",null,"출결 상태"),t("th",null,"비고")])],-1)),t("tbody",null,[(d(!0),p(y,null,k(c.value,a=>(d(),p("tr",{key:a.enrollmentId},[t("td",null,f(a.name),1),t("td",null,f(a.studentId),1),t("td",null,[r(t("select",{"onUpdate:modelValue":l=>a.status=l,class:"form-select"},e[2]||(e[2]=[t("option",{disabled:"",value:""},"선택",-1),t("option",{value:"출석"},"출석",-1),t("option",{value:"지각"},"지각",-1),t("option",{value:"결석"},"결석",-1),t("option",{value:"병가"},"병가",-1),t("option",{value:"경조사"},"경조사",-1)]),8,A),[[w,a.status]])]),t("td",null,[r(t("input",{"onUpdate:modelValue":l=>a.note=l,disabled:!["지각","병가","경조사"].includes(a.status),class:"form-control",placeholder:"사유 입력"},null,8,D),[[m,a.note]])])]))),128))])]),t("div",{class:"text-center mt-4"},[t("button",{onClick:b,class:"btn btn-primary px-4"}," 저장! ")])])]),_:1}))}},H=I(C,[["__scopeId","data-v-4075e5e5"]]);export{H as default};
