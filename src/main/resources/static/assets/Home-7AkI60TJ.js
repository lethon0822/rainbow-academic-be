import{_ as w,d as I,u as M,k as b,B as C,c as u,o as c,a as t,f as h,E as d,I as S,M as q,b as N,A as R,m as A,x as B,C as $,D as n,i as f,g as v,y as H,F as j}from"./index-COq8Ttir.js";const E="/assets/logoW-d0_Z5EOz.svg",T={class:"navbar navbar-dark text-white shadow-sm",style:{"background-color":"#364157",height:"60px"}},D={class:"container-fluid d-flex justify-content-between align-items-center px-4"},V=["src"],U={key:0,class:"menus d-flex align-items-center gap-3"},F={class:"info"},z={__name:"Header",setup(L){I({data:{userId:0,password:"",userName:"",userRole:""}});const a=M(),g=b(),i=C(),k=async()=>{if(!confirm("로그아웃 하시겠습니까?"))return;const p=await q();console.log("로그아웃",p),!(p===void 0||p.status!==200)&&(i.setLoggedIn(!1),a.push("/login"))};return(p,l)=>(c(),u("header",null,[t("div",T,[t("div",D,[t("div",{class:"logo d-flex align-items-center",onClick:l[1]||(l[1]=m=>p.$router.push("/"))},[t("img",{src:d(E),alt:"로고 아이콘",height:"40"},null,8,V),t("span",{class:"systemText",onClick:l[0]||(l[0]=m=>p.$router.push("/"))},"학사관리시스템")]),d(i).state.loggedIn?(c(),u("div",U,[t("div",F,S(d(g).loginId),1),t("span",null,S(d(g).userName)+"님 반갑습니다",1),l[3]||(l[3]=t("span",{class:"divider"},"|",-1)),t("a",{onClick:l[2]||(l[2]=m=>k())},"로그아웃")])):h("",!0)])])]))}},O=w(z,[["__scopeId","data-v-ada0334c"]]),W={class:"menu-hakjeok"},Z={key:0,class:"menu-sugang"},G={class:"menu-gangui"},J={key:0},K={key:1},P={key:2},Q={key:1,class:"menu-score"},X={__name:"SideBar",setup(L){const a=N(null),g=R(),i=b(),k=e=>{e.style.height=e.scrollHeight+"px",e.offsetHeight,e.style.transition="height 0.3s ease",e.style.height="0px",e.style.overflow="hidden",setTimeout(()=>{e.style.display="none",e.style.height="",e.style.overflow="",e.style.transition=""},300)},p=e=>{e.style.display="block",e.style.height="0px",e.style.overflow="hidden",e.style.transition="height 0.3s ease",H(()=>{e.style.height=e.scrollHeight+"px",setTimeout(()=>{e.style.height="",e.style.overflow="",e.style.transition=""},300)})},l=e=>{const s=e.parentElement;if(e.classList.contains("active")){e.classList.remove("active");const o=e.querySelector("ul");o&&(k(o),o.classList.remove("show-dropdown"))}else{s.querySelectorAll("li.active").forEach(r=>{r.classList.remove("active");const _=r.querySelector("ul");_&&(k(_),_.classList.remove("show-dropdown"))}),e.classList.add("active");const y=e.querySelector("ul");y&&(p(y),y.classList.add("show-dropdown"))}},m=e=>{const s=e.target;if(s.tagName.toLowerCase()==="a"&&s.classList.contains("router-link")){const o=s.closest("li");o&&l(o);return}if(s.tagName.toLowerCase()==="a"){e.preventDefault();const o=s.closest("li");o&&l(o)}},x=()=>{if(!a.value)return;a.value.querySelectorAll("li.active").forEach(r=>{r.classList.remove("active")}),a.value.querySelectorAll("ul.show-dropdown").forEach(r=>{r.classList.remove("show-dropdown"),r.style.display="none"});let o=g.path;const y=a.value.querySelector(`li a[href="${o}"]`);if(y){let r=y.parentElement;for(;r&&r!==a.value;){if(r.tagName==="LI"){r.classList.add("active");const _=r.querySelector("ul");_&&(_.classList.add("show-dropdown"),_.style.display="block")}r=r.parentElement}}};return A(()=>{a.value.querySelectorAll("a").forEach(s=>{s.addEventListener("click",m)}),x()}),B(()=>g.path,()=>{x()}),(e,s)=>{const o=$("router-link");return c(),u("div",{id:"accordian",ref_key:"accordian",ref:a},[t("ul",null,[t("li",W,[s[2]||(s[2]=t("a",{href:"javascript:void(0);"},"학적",-1)),t("ul",null,[t("li",null,[n(o,{to:"/profile",class:"router-link"},{default:f(()=>s[0]||(s[0]=[v(" 학적기본사항관리 ")])),_:1,__:[0]})]),t("li",null,[n(o,{to:"/renewal/privacy",class:"router-link"},{default:f(()=>s[1]||(s[1]=[v(" 개인정보변경 ")])),_:1,__:[1]})])])]),d(i).userRole!=="professor"?(c(),u("li",Z,[s[4]||(s[4]=t("a",{href:"javascript:void(0);"},"수강",-1)),t("ul",null,[t("li",null,[n(o,{to:"/enrollment",class:"router-link"},{default:f(()=>s[3]||(s[3]=[v("수강신청 관리")])),_:1,__:[3]})])])])):h("",!0),t("li",G,[s[9]||(s[9]=t("a",{href:"javascript:void(0);"},"강의",-1)),t("ul",null,[t("li",null,[n(o,{to:"/course/history",class:"router-link"},{default:f(()=>s[5]||(s[5]=[v("강의조회")])),_:1,__:[5]})]),d(i).userRole!=="student"?(c(),u("li",J,[n(o,{to:"/professor/course/status"},{default:f(()=>s[6]||(s[6]=[v("강의개설신청 및 신청현황조회")])),_:1,__:[6]})])):h("",!0),d(i).userRole!=="student"?(c(),u("li",K,[n(o,{to:"/professor/course/management"},{default:f(()=>s[7]||(s[7]=[v("강의관리")])),_:1,__:[7]})])):h("",!0),d(i).userRole!=="student"?(c(),u("li",P,[n(o,{to:"/professor/survey/check"},{default:f(()=>s[8]||(s[8]=[v("강의평가조회")])),_:1,__:[8]})])):h("",!0)])]),d(i).userRole!=="professor"?(c(),u("li",Q,[s[11]||(s[11]=t("a",{href:"javascript:void(0);"},"성적",-1)),t("ul",null,[t("li",null,[n(o,{to:"/grade/all",class:"router-link"},{default:f(()=>s[10]||(s[10]=[v("영구성적조회")])),_:1,__:[10]})])])])):h("",!0)])],512)}}},Y=w(X,[["__scopeId","data-v-8565fbbb"]]),ss={class:"sidebar"},es={class:"content"},ts={__name:"Home",setup(L){return(a,g)=>{const i=$("router-view");return c(),u(j,null,[n(O),t("div",ss,[n(Y)]),t("div",es,[n(i)])],64)}}},rs=w(ts,[["__scopeId","data-v-d05398c9"]]);export{rs as default};
