import{_ as h,a as R,u as I,j as S,A as j,c as d,o as u,b as t,e as _,D as c,H as C,L as M,r as N,z as $,k as q,t as B,B as b,C as r,h as n,f as a,x as H,d as A,F as E}from"./index-BYEgPVgA.js";import T from"./Notices-CnuLF2J2.js";const D="/assets/logoW-d0_Z5EOz.svg",V={class:"navbar navbar-dark text-white shadow-sm",style:{"background-color":"#00664f",height:"60px"}},U={class:"container-fluid d-flex justify-content-between align-items-center px-4"},z=["src"],F={key:0,class:"menus d-flex align-items-center gap-3"},O={__name:"Header",setup(L){R({data:{userId:0,password:"",userName:"",userRole:""}});const f=I(),m=S(),i=j(),k=async()=>{if(!confirm("로그아웃 하시겠습니까?"))return;const v=await M();v===void 0||v.status!==200||(i.setLoggedIn(!1),f.push("/login"))};return(v,p)=>(u(),d("header",null,[t("div",V,[t("div",U,[t("div",{class:"logo d-flex align-items-center",onClick:p[1]||(p[1]=w=>v.$router.push("/"))},[t("img",{src:c(D),alt:"로고 아이콘",height:"40"},null,8,z),t("span",{class:"systemText",onClick:p[0]||(p[0]=w=>v.$router.push("/"))},"학사관리시스템")]),c(i).state.loggedIn?(u(),d("div",F,[t("span",null,C(c(m).userName)+"님 반갑습니다",1),p[3]||(p[3]=t("span",{class:"divider"},"|",-1)),t("a",{onClick:p[2]||(p[2]=w=>k())},"로그아웃")])):_("",!0)])])]))}},W=h(O,[["__scopeId","data-v-a0712261"]]),Z={class:"menu-hakjeok"},G={key:0},J={key:1},K={key:0,class:"menu-sugang"},P={class:"menu-gangui"},Q={key:0},X={key:1},Y={key:2},ss={key:1,class:"menu-score"},ts={key:2,class:"menu-graduate"},es={key:3,class:"menu-management"},os={__name:"SideBar",setup(L){const f=N(null),m=$(),i=S(),k=e=>{e.style.height=e.scrollHeight+"px",e.offsetHeight,e.style.transition="height 0.3s ease",e.style.height="0px",e.style.overflow="hidden",setTimeout(()=>{e.style.display="none",e.style.height="",e.style.overflow="",e.style.transition=""},300)},v=e=>{e.style.display="block",e.style.height="0px",e.style.overflow="hidden",e.style.transition="height 0.3s ease",H(()=>{e.style.height=e.scrollHeight+"px",setTimeout(()=>{e.style.height="",e.style.overflow="",e.style.transition=""},300)})},p=e=>{const s=e.parentElement;if(e.classList.contains("active")){e.classList.remove("active");const o=e.querySelector("ul");o&&(k(o),o.classList.remove("show-dropdown"))}else{s.querySelectorAll("li.active").forEach(l=>{if(l.classList.contains("menu-hakjeok")||l.classList.contains("menu-sugang")||l.classList.contains("menu-gangui")||l.classList.contains("menu-score")||l.classList.contains("menu-management")||l.classList.contains("menu-graduate")){l.classList.remove("active");const g=l.querySelector("ul");g&&(k(g),g.classList.remove("show-dropdown"))}}),e.classList.add("active");const y=e.querySelector("ul");y&&(v(y),y.classList.add("show-dropdown"))}},w=e=>{const s=e.target;if(s.tagName.toLowerCase()==="a"&&s.classList.contains("router-link")){const o=s.closest("li");o&&p(o);return}if(s.tagName.toLowerCase()==="a"){e.preventDefault();const o=s.closest("li");o&&p(o)}},x=()=>{if(!f.value)return;f.value.querySelectorAll("li.active").forEach(l=>{l.classList.remove("active")}),f.value.querySelectorAll("ul.show-dropdown").forEach(l=>{l.classList.remove("show-dropdown"),l.style.display="none"});let o=m.path;const y=f.value.querySelector(`li a[href="${o}"]`);if(y){let l=y.parentElement;for(;l&&l!==f.value;){if(l.tagName==="LI"){l.classList.add("active");const g=l.querySelector("ul");g&&(g.classList.add("show-dropdown"),g.style.display="block")}l=l.parentElement}}};return q(()=>{f.value.querySelectorAll("a").forEach(s=>{s.addEventListener("click",w)}),x()}),B(()=>m.path,()=>{x()}),(e,s)=>{const o=b("router-link");return u(),d("div",{id:"accordian",ref_key:"accordian",ref:f},[t("ul",null,[t("li",Z,[s[4]||(s[4]=t("a",{href:"javascript:void(0);"},"학적",-1)),t("ul",null,[t("li",null,[r(o,{to:"/profile",class:"router-link"},{default:n(()=>s[0]||(s[0]=[a(" 학적기본사항관리 ")])),_:1,__:[0]})]),t("li",null,[r(o,{to:"/renewal/privacy",class:"router-link"},{default:n(()=>s[1]||(s[1]=[a(" 개인정보변경 ")])),_:1,__:[1]})]),c(i).userRole=="student"?(u(),d("li",G,[r(o,{to:"/application",class:"router-link"},{default:n(()=>s[2]||(s[2]=[a(" 휴·복학신청 ")])),_:1,__:[2]})])):_("",!0),c(i).userRole=="professor"?(u(),d("li",J,[r(o,{to:"/application",class:"router-link"},{default:n(()=>s[3]||(s[3]=[a(" 휴·복직신청 ")])),_:1,__:[3]})])):_("",!0)])]),c(i).userRole=="student"?(u(),d("li",K,[s[6]||(s[6]=t("a",{href:"javascript:void(0);"},"수강",-1)),t("ul",null,[t("li",null,[r(o,{to:"/enrollment",class:"router-link"},{default:n(()=>s[5]||(s[5]=[a("수강신청 관리")])),_:1,__:[5]})])])])):_("",!0),t("li",P,[s[11]||(s[11]=t("a",{href:"javascript:void(0);"},"강의",-1)),t("ul",null,[t("li",null,[r(o,{to:"/course/history",class:"router-link"},{default:n(()=>s[7]||(s[7]=[a("강의조회")])),_:1,__:[7]})]),c(i).userRole=="professor"?(u(),d("li",Q,[r(o,{to:"/professor/course/status",class:"router-link"},{default:n(()=>s[8]||(s[8]=[a("강의개설신청 및 신청현황조회")])),_:1,__:[8]})])):_("",!0),c(i).userRole=="professor"?(u(),d("li",X,[r(o,{to:"/professor/course/management",class:"router-link"},{default:n(()=>s[9]||(s[9]=[a("강의관리")])),_:1,__:[9]})])):_("",!0),c(i).userRole=="professor"?(u(),d("li",Y,[r(o,{to:"/professor/survey/check",class:"router-link"},{default:n(()=>s[10]||(s[10]=[a("강의평가조회")])),_:1,__:[10]})])):_("",!0)])]),c(i).userRole=="student"?(u(),d("li",ss,[s[14]||(s[14]=t("a",{href:"javascript:void(0);"},"성적",-1)),t("ul",null,[t("li",null,[r(o,{to:"/grade/permanent",class:"router-link"},{default:n(()=>s[12]||(s[12]=[a("영구성적조회")])),_:1,__:[12]})]),t("li",null,[r(o,{to:"/grade/current",class:"router-link"},{default:n(()=>s[13]||(s[13]=[a("금학기성적조회")])),_:1,__:[13]})])])])):_("",!0),c(i).userRole=="student"?(u(),d("li",ts,[s[16]||(s[16]=t("a",{href:"javascript:void(0);"},"졸업",-1)),t("ul",null,[t("li",null,[r(o,{to:"/graduation",class:"router-link"},{default:n(()=>s[15]||(s[15]=[a("졸업자가진단")])),_:1,__:[15]})])])])):_("",!0),c(i).userRole=="staff"?(u(),d("li",es,[s[22]||(s[22]=t("a",{href:"javascript:void(0);"},"시스템관리",-1)),t("ul",null,[t("li",null,[r(o,{to:"/schedule",class:"router-link"},{default:n(()=>s[17]||(s[17]=[a(" 학사일정관리 ")])),_:1,__:[17]})]),t("li",null,[r(o,{to:"/deptmanage",class:"router-link"},{default:n(()=>s[18]||(s[18]=[a(" 학과관리 ")])),_:1,__:[18]})]),t("li",null,[r(o,{to:"/staff/approval",class:"router-link"},{default:n(()=>s[19]||(s[19]=[a(" 신분변동관리 ")])),_:1,__:[19]})]),t("li",null,[r(o,{to:"#",class:"router-link"},{default:n(()=>s[20]||(s[20]=[a(" 강의개설승인관리 ")])),_:1,__:[20]})]),t("li",null,[r(o,{to:"/staff",class:"router-link"},{default:n(()=>s[21]||(s[21]=[a(" 구성원현황 ")])),_:1,__:[21]})])])])):_("",!0)])],512)}}},ls=h(os,[["__scopeId","data-v-f970e325"]]),rs={class:"d-flex main"},ns={class:"sidebar"},as={class:"content d-flex"},is={class:"router"},us={__name:"Home",setup(L){const f=$();return(m,i)=>{const k=b("router-view");return u(),d(E,null,[t("div",null,[r(W)]),t("div",rs,[t("div",ns,[i[0]||(i[0]=t("div",{class:"dummy"},null,-1)),r(ls)]),t("div",as,[t("div",is,[r(k),c(f).path==="/"?(u(),A(T,{key:0})):_("",!0)])])])],64)}}},fs=h(us,[["__scopeId","data-v-693732e2"]]);export{fs as default};
