import{_ as x,x as u,c as f,o as n,w as v,b as t,d as r,v as c,f as i,F as y,p as _,t as b,e as h,a as d}from"./index-DUugNxcj.js";import{W as I}from"./WhiteBox-BPtEtNnE.js";/* empty css                                                                 */const w={class:"attendance-wrapper"},k={class:"table-auto w-full border"},V={class:"border px-2 py-1"},B={class:"border px-2 py-1"},U={class:"border px-2 py-1"},g=["onUpdate:modelValue"],D={class:"border px-2 py-1"},A=["onUpdate:modelValue","disabled"],C={__name:"AttendanceInput",setup(F){const a=u(""),p=u([{enrollmentId:1,name:"김수연",studentId:"20257945",status:"",note:""},{enrollmentId:2,name:"김철수",studentId:"20257946",status:"",note:""}]),m=async()=>{if(!a.value){alert("출결일자를 선택해주세요.");return}try{for(const o of p.value){if(!o.status){alert(`학생 ${o.name}의 출결 상태를 선택해주세요.`);return}const e={attendDate:a.value,enrollmentId:o.enrollmentId,status:o.status,note:o.note},{data:s}=await d.post("/api/professor/course/check/exist",e);s===0?await d.post("/api/professor/course/check",e):await d.put("/api/professor/course/check",e)}alert("출결 저장 완료!"),router.push("/professor")}catch(o){console.error("출결 저장 중 오류:",o),alert("출결 저장 중 오류가 발생했습니다.")}};return(o,e)=>(n(),f(I,{title:"출결 관리"},{default:v(()=>[t("div",w,[e[3]||(e[3]=t("div",{class:"attendance-box"},null,-1)),e[4]||(e[4]=t("h2",{class:"text-xl font-bold mb-4 text-center"},"출결 입력창",-1)),e[5]||(e[5]=t("label",{class:"block mb-2"},"출결일자",-1)),r(t("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),class:"mb-4 border px-2 py-1 rounded"},null,512),[[c,a.value]]),t("table",k,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",{class:"border px-2 py-1"},"이름"),t("th",{class:"border px-2 py-1"},"학번"),t("th",{class:"border px-2 py-1"},"출결 상태"),t("th",{class:"border px-2 py-1"},"비고")])],-1)),t("tbody",null,[(n(!0),i(y,null,_(p.value,s=>(n(),i("tr",{key:s.enrollmentId},[t("td",V,b(s.name),1),t("td",B,b(s.studentId),1),t("td",U,[r(t("select",{"onUpdate:modelValue":l=>s.status=l,class:"border px-1 py-1 rounded"},e[1]||(e[1]=[t("option",{disabled:"",value:""},"선택",-1),t("option",{value:"출석"},"출석",-1),t("option",{value:"지각"},"지각",-1),t("option",{value:"결석"},"결석",-1),t("option",{value:"병가"},"병가",-1),t("option",{value:"경조사"},"경조사",-1)]),8,g),[[h,s.status]])]),t("td",D,[r(t("input",{"onUpdate:modelValue":l=>s.note=l,disabled:!["지각","병가","경조사"].includes(s.status),class:"border px-1 py-1 rounded w-full",placeholder:"사유 입력"},null,8,A),[[c,s.note]])])]))),128))])]),t("button",{onClick:m,class:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," 저장! ")])]),_:1}))}},E=x(C,[["__scopeId","data-v-cb43df3d"]]);export{E as default};
