import{_ as v,d as _,b as p,e as h,o as a,h as y,C as m,c as n,f as c,a as r,F as k,E as g,H as x,W as C}from"./index-D6WQuHd6.js";import{S as b,_ as S}from"./CourseTable-BxwlLxoZ.js";import{f as B,a as w}from"./professorService-DdkP3AK0.js";const I={key:0,class:"d-flex no-comment"},F={key:1,class:"comment-container"},N={key:2,class:"d-flex no-comment"},V={__name:"SurveyResultCheck",setup(E){const e=_({resultItem:[],visable:!1,course:!1,comment:[],avg:0}),u=p([]),i=async o=>{e.comment=[];const t={year:o.year,semester:o.semester},s=await B(t);if(s.data.length>0){u.value=s.data;const l=u.value.filter(f=>f.status==="승인");e.resultItem=l,e.course=!1;return}e.resultItem=[],e.course=!0},d=async o=>{const t=await w(o);if(t.data.length>0){e.comment=t.data,console.log(t.data);for(let s of e.comment)e.avg+=s.average;e.visable=!1;return}e.comment=[],e.visable=!0};return(o,t)=>(a(),h(C,{title:"강의평가조회"},{default:y(()=>[m(b,{onSearch:i}),m(S,{"course-list":e.resultItem,maxHeight:"500px",show:{check:!0},onCheck:d},null,8,["course-list"]),e.course?(a(),n("div",I,t[0]||(t[0]=[r("span",null,"등록된 강의가 없습니다.",-1)]))):c("",!0),t[2]||(t[2]=r("h3",null,[r("b",null,"강의평")],-1)),t[3]||(t[3]=r("hr",null,null,-1)),e.comment.length>0?(a(),n("div",F,[(a(!0),n(k,null,g(e.comment,(s,l)=>(a(),n("div",{class:"comment",key:l},[r("span",null,x(s.review),1)]))),128))])):c("",!0),e.visable?(a(),n("div",N,t[1]||(t[1]=[r("span",null,"등록된 평가가 없습니다.",-1)]))):c("",!0)]),_:1,__:[2,3]}))}},W=v(V,[["__scopeId","data-v-315239bd"]]);export{W as default};
